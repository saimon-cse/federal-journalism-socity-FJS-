/*
 * Enhanced Admin Panel CSS v1.2 (Merged)
 * A comprehensive stylesheet for all admin panel pages with improved aesthetics,
 * consistency, a new variable system, and refined sidebar design.
 */

/* ===== RESET & BASICS ===== */
*,
*::before,
*::after { /* Apply box-sizing to pseudo-elements as well */
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    /* Primary colors */
    --primary-50: #eef2ff;
    --primary-100: #e0e7ff;
    --primary-200: #c7d2fe;
    --primary-300: #a5b4fc;
    --primary-400: #818cf8;
    --primary-500: #6366f1; /* Main primary */
    --primary-600: #4f46e5; /* Darker primary, used for active states */
    --primary-700: #4338ca; /* Hover states */
    --primary-800: #3730a3;
    --primary-900: #312e81;
    --primary-950: #1e1b4b;

    /* Secondary/Gray colors (Tailwind-like naming) */
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;   /* Default border color */
    --gray-300: #d1d5db;
    --gray-400: #9ca3af;   /* Muted icon/text color */
    --gray-500: #6b7280;   /* Secondary text */
    --gray-600: #4b5563;   /* Hover text / stronger secondary */
    --gray-700: #374151;
    --gray-800: #1f2937;   /* Main dark text */
    --gray-900: #111827;
    --gray-950: #030712;


    /* Functional colors (with light and dark variants) */
    --success-50: #f0fdf4; --success: #22c55e; --success-fg: #15803d; --success-bg: #dcfce7;
    --danger-50: #fef2f2;  --danger: #ef4444;  --danger-fg: #b91c1c;  --danger-bg: #fee2e2;
    --warning-50: #fffbeb; --warning: #f59e0b; --warning-fg: #b45309; --warning-bg: #fef3c7;
    --info-50: #eff6ff;    --info: #3b82f6;    --info-fg: #1d4ed8;    --info-bg: #dbeafe;

    --white: #ffffff;
    --black: #000000;
    --transparent: transparent;

    /* Typography */
    --font-sans: 'Inter', 'Segoe UI', Roboto, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Arial, sans-serif;
    --font-serif: ui-serif, Georgia, Cambria, "Times New Roman", Times, serif;
    --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

    /* Base Font Sizes */
    --text-xs: 0.75rem;   /* 12px */
    --text-sm: 0.875rem;  /* 14px */
    --text-base: 1rem;    /* 16px */
    --text-lg: 1.125rem;  /* 18px */
    --text-xl: 1.25rem;   /* 20px */
    --text-2xl: 1.5rem;   /* 24px */
    --text-3xl: 1.875rem; /* 30px */
    --text-4xl: 2.25rem;  /* 36px */

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
    --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgba(0, 0, 0, 0.05);

    /* Transitions */
    --transition-fast: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-normal: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: all 500ms cubic-bezier(0.4, 0, 0.2, 1);

    /* Spacing (Tailwind-like scale) */
    --spacing-px: 1px;
    --spacing-0: 0;
    --spacing-0_5: 0.125rem; /* 2px */
    --spacing-1: 0.25rem;    /* 4px */
    --spacing-1_5: 0.375rem; /* 6px */
    --spacing-2: 0.5rem;     /* 8px */
    --spacing-2_5: 0.625rem; /* 10px */
    --spacing-3: 0.75rem;    /* 12px */
    --spacing-3_5: 0.875rem; /* 14px */
    --spacing-4: 1rem;       /* 16px */
    --spacing-5: 1.25rem;    /* 20px */
    --spacing-6: 1.5rem;     /* 24px */
    --spacing-7: 1.75rem;    /* 28px */
    --spacing-8: 2rem;       /* 32px */
    --spacing-9: 2.25rem;    /* 36px */
    --spacing-10: 2.5rem;    /* 40px */
    --spacing-11: 2.75rem;   /* 44px */
    --spacing-12: 3rem;      /* 48px */
    --spacing-14: 3.5rem;    /* 56px */
    --spacing-16: 4rem;      /* 64px */

    /* Border-radius */
    --radius-none: 0px;
    --radius-sm: 0.125rem;  /* 2px */
    --radius: 0.25rem;      /* 4px */
    --radius-md: 0.375rem;  /* 6px */
    --radius-lg: 0.5rem;    /* 8px */
    --radius-xl: 0.75rem;   /* 12px */
    --radius-2xl: 1rem;     /* 16px */
    --radius-3xl: 1.5rem;   /* 24px */
    --radius-full: 9999px;

    /* Z-index scale */
    --z-0: 0;
    --z-10: 10;
    --z-20: 20;
    --z-30: 30;
    --z-40: 40; /* Sidebar, Navbar backdrop */
    --z-50: 50; /* Sidebar when shown on mobile, Modals */
    --z-auto: auto;

    /* Specific component variables */
    --sidebar-width: 260px; /* Sidebar width from new CSS */
    --navbar-height: 64px;
}

html {
    line-height: 1.5;
    -webkit-text-size-adjust: 100%;
    -moz-tab-size: 4;
    tab-size: 4;
    font-family: var(--font-sans);
}

body {
    background-color: var(--gray-50);
    color: var(--gray-800);
    font-size: var(--text-sm);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a {
    text-decoration: none;
    color: var(--primary-600);
    transition: color var(--transition-fast);
}
a:hover {
    color: var(--primary-700);
}

hr {
    border: 0;
    border-top: 1px solid var(--gray-200);
    margin: var(--spacing-4) 0;
}

img, svg, video, canvas, audio, iframe, embed, object {
    display: block;
    vertical-align: middle;
}
img, video {
    max-width: 100%;
    height: auto;
}

/* ===== LAYOUT ELEMENTS ===== */
.admin-container {
    display: flex;
    min-height: 100vh;
}

.content-container {
    flex: 1;
    display: flex;
    flex-direction: column;
    margin-left: var(--sidebar-width);
    transition: margin-left var(--transition-normal);
    width: calc(100% - var(--sidebar-width));
}

.main-content {
    flex: 1;
    padding: var(--spacing-6) var(--spacing-8);
}

/* ===== SIDEBAR (Merged and Refined) ===== */
.sidebar {
    width: var(--sidebar-width);
    background-color: var(--white);
    border-right: 1px solid var(--gray-200);
    display: flex;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: 0;
    height: 100%;
    z-index: var(--z-40);
    box-shadow: var(--shadow); /* Using standard shadow */
    transition: transform var(--transition-normal), width var(--transition-normal);
    font-size: var(--text-sm); /* Base font for sidebar */
}

.sidebar-header {
    padding: var(--spacing-4) var(--spacing-5);
    border-bottom: 1px solid var(--gray-200);
    margin-bottom: var(--spacing-2);
    display: flex;
    align-items: center;
}

.logo { /* Styles from new CSS seem fine */
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--primary-600);
    display: flex;
    align-items: center;
    gap: var(--spacing-2);
}
.logo-icon { /* Styles from new CSS seem fine */
    height: 32px;
    width: 32px;
    background-color: var(--primary-600);
    color: var(--white);
    border-radius: var(--radius-md);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--text-base);
    flex-shrink: 0;
}
.logo-icon img { /* Adjusted for consistency */
    width: 18px !important; /* Smaller image in 32px container */
    height: 18px !important;
}
.logo span {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.nav-menu {
    padding: var(--spacing-2) 0;
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
}
.nav-menu::-webkit-scrollbar { width: 6px; }
.nav-menu::-webkit-scrollbar-track { background: var(--gray-100); border-radius: var(--radius-full); }
.nav-menu::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: var(--radius-full); }
.nav-menu::-webkit-scrollbar-thumb:hover { background: var(--gray-400); }

.nav-section {
    margin-bottom: var(--spacing-4);
}

.nav-section-title {
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    color: var(--gray-500);
    padding: var(--spacing-3) var(--spacing-5) var(--spacing-1);
    letter-spacing: 0.05em;
}
.nav-section > ul {
    padding: 0 var(--spacing-3); /* Slightly more inset for item groups */
}

.nav-item { /* Top-level nav items and dropdown toggles */
    display: flex;
    align-items: center;
    padding: var(--spacing-2_5) var(--spacing-3); /* 10px 12px */
    color: var(--gray-600); /* Default color */
    border-radius: var(--radius-md);
    transition: background-color var(--transition-fast), color var(--transition-fast);
    gap: var(--spacing-3);
    font-size: var(--text-sm);
    margin: 0 0 var(--spacing-0_5) 0; /* Top/bottom margin, no horizontal indent here, full width */
    position: relative;
}
.nav-item:hover {
    background-color: var(--primary-50);
    color: var(--primary-700);
}
.nav-item.active { /* Active state for current page link */
    background-color: var(--primary-600);
    color: var(--white);
    font-weight: 500; /* Keep slightly bolder */
    box-shadow: var(--shadow-sm);
}
.nav-item.active .nav-icon {
    color: var(--white); /* Icon matches text on active */
}
.nav-item.active .nav-text, /* Ensure text color within span is also white */
.nav-item.active .dropdown-icon {
    color: var(--white);
}


.nav-icon {
    width: 20px;
    text-align: center;
    color: var(--gray-400); /* Default icon color */
    font-size: 1.05rem; /* Slightly larger for primary icons */
    flex-shrink: 0;
    transition: color var(--transition-fast);
}
.nav-item:hover .nav-icon { /* Icon color matches text on hover */
    color: var(--primary-600);
}

.nav-item .nav-text { /* Span around nav item text */
    flex-grow: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.nav-dropdown { /* Parent LI element for a dropdown section */
    position: relative;
    /* No specific margin, handled by .nav-item inside or ul padding */
}

.nav-item.dropdown-toggle { /* The <a> tag that is a dropdown toggle */
    justify-content: space-between;
    cursor: pointer;
}
/* Parent of an active sub-item gets this class via JS */
.nav-item.dropdown-toggle.active-parent {
    background-color: var(--primary-50); /* Subtle highlight */
    color: var(--primary-700);
}
.nav-item.dropdown-toggle.active-parent .nav-icon,
.nav-item.dropdown-toggle.active-parent .dropdown-icon {
    color: var(--primary-600);
}

.dropdown-icon { /* Chevron icon */
    transition: transform var(--transition-fast);
    font-size: var(--text-xs); /* Small chevron */
    color: var(--gray-400); /* Default chevron color */
    margin-left: auto; /* Pushes to the right */
}
.nav-item:hover .dropdown-icon {
    color: var(--primary-600); /* Chevron color on hover */
}
/* Rotate chevron when dropdown is open OR when parent is active due to child */
.nav-item.dropdown-toggle[aria-expanded="true"] .dropdown-icon,
.nav-item.dropdown-toggle.active .dropdown-icon,
.nav-item.dropdown-toggle.active-parent .dropdown-icon {
    transform: rotate(90deg);
    /* color: inherit; -- This will be handled by .active or .active-parent color rules for the parent .nav-item */
}


.nav-dropdown .dropdown-menu { /* UL for sub-items */
    display: none;
    list-style: none;
    padding-left: 0; /* Reset padding */
    margin-top: var(--spacing-1);
    margin-bottom: var(--spacing-1);
    /* background-color: var(--gray-50); Optional: slightly different bg for dropdown items */
}
.nav-dropdown .dropdown-menu.dropdown-open {
    display: block;
}

/* Styling for individual dropdown items (A tags) */
.sidebar .nav-dropdown .dropdown-menu .dropdown-item {
    display: flex;
    align-items: center;
    /* Indentation: parent_padding + icon_width + gap_after_icon */
    /* Original parent_padding was var(--spacing-3) = 12px. Icon is 20px. Gap is var(--spacing-2) = 8px. */
    /* So, 12px (original left padding of nav-item) + 20px (icon area) + 8px (gap) = 40px */
    padding: var(--spacing-2) var(--spacing-3) var(--spacing-2) calc(var(--spacing-3) + 20px + var(--spacing-2));
    color: var(--gray-600);
    border-radius: var(--radius-md);
    transition: background-color var(--transition-fast), color var(--transition-fast);
    font-size: 0.8125rem; /* Slightly smaller than parent */
    margin: var(--spacing-0_5) 0;
    gap: var(--spacing-2); /* Gap between icon and text for sub-items */
    position: relative;
}
.sidebar .nav-dropdown .dropdown-menu .dropdown-item .nav-icon {
    font-size: 0.9rem; /* Smaller icons for sub-items */
    color: var(--gray-400); /* Match general icon color */
}

.sidebar .nav-dropdown .dropdown-menu .dropdown-item:hover {
    background-color: var(--primary-50);
    color: var(--primary-700);
}
.sidebar .nav-dropdown .dropdown-menu .dropdown-item:hover .nav-icon {
    color: var(--primary-600);
}
.sidebar .nav-dropdown .dropdown-menu .dropdown-item.active {
    color: var(--primary-700);
    font-weight: 500; /* Slightly bolder for active sub-item */
    background-color: var(--primary-100); /* More subtle active for child */
}
.sidebar .nav-dropdown .dropdown-menu .dropdown-item.active .nav-icon {
    color: var(--primary-600);
}


.nav-user { /* User info at the bottom */
    padding: var(--spacing-4) var(--spacing-5);
    border-top: 1px solid var(--gray-200);
    display: flex;
    align-items: center;
    gap: var(--spacing-3);
    margin-top: auto;
    background-color: var(--gray-50); /* Slight distinction */
}
.user-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background-color: var(--primary-100); /* Lighter primary for avatar bg */
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--primary-700);
    font-weight: 600;
    overflow: hidden;
    flex-shrink: 0;
}
.user-avatar img { width: 100%; height: 100%; object-fit: cover; }
.user-info { flex: 1; overflow: hidden; }
.user-name { font-weight: 600; font-size: var(--text-sm); color: var(--gray-800); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-role { font-size: var(--text-xs); color: var(--gray-500); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }


/* ===== NAVBAR ===== */
/* Your existing navbar styles seem largely compatible with the new variable system. */
/* I will adjust variables and some minor stylings for consistency. */
.navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: var(--navbar-height);
    padding: 0 var(--spacing-6);
    background-color: var(--white);
    border-bottom: 1px solid var(--gray-200);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: 0;
    z-index: var(--z-30);
}

.navbar-left { display: flex; align-items: center; gap: var(--spacing-4); }

.mobile-toggle-btn {
    display: none;
    background: none; border: none;
    color: var(--gray-500); font-size: 1.75rem; cursor: pointer;
    width: 44px; height: 44px; border-radius: var(--radius-md);
    transition: var(--transition-fast);
    align-items: center; justify-content: center;
}
.mobile-toggle-btn:hover { background-color: var(--gray-100); color: var(--gray-700); }

.navbar-breadcrumb { display: flex; align-items: center; font-size: var(--text-sm); }
.navbar-breadcrumb a { color: var(--gray-500); }
.navbar-breadcrumb a:hover { color: var(--primary-600); }
.breadcrumb-separator { margin: 0 var(--spacing-2); color: var(--gray-400); }
.breadcrumb-current { color: var(--gray-700); font-weight: 500; }

.navbar-right { display: flex; align-items: center; gap: var(--spacing-4); }

.navbar-search .search-box { width: 280px; position: relative; }
.navbar-search .search-input {
    width: 100%; padding: var(--spacing-2) var(--spacing-3) var(--spacing-2) var(--spacing-10); /* LTR padding for icon */
    border: 1px solid var(--gray-200); border-radius: var(--radius-md);
    font-size: var(--text-sm); background-color: var(--gray-50);
    transition: var(--transition-fast);
}
.navbar-search .search-input:focus {
    outline: none; background-color: var(--white); border-color: var(--primary-500);
    box-shadow: 0 0 0 3px var(--primary-100); /* Focus ring */
}
.navbar-search .search-icon {
    position: absolute; left: var(--spacing-3); top: 50%;
    transform: translateY(-50%); color: var(--gray-400); pointer-events: none;
}

.navbar-items { display: flex; align-items: center; gap: var(--spacing-1); } /* Tighter gap for icon buttons */
.navbar-icon-btn {
    display: flex; align-items: center; justify-content: center;
    width: 44px; height: 44px; border-radius: var(--radius-md);
    background: none; border: none; color: var(--gray-500);
    font-size: 1.375rem; cursor: pointer; transition: var(--transition-fast);
    position: relative;
}
.navbar-icon-btn:hover { background-color: var(--gray-100); color: var(--gray-700); }

.navbar-items .badge {
    position: absolute; top: var(--spacing-1_5); right: var(--spacing-1_5);
    display: flex; align-items: center; justify-content: center;
    min-width: 20px; height: 20px; padding: 0 var(--spacing-1);
    border-radius: var(--radius-full); background-color: var(--danger); color: white;
    font-size: 0.6875rem; font-weight: 600; line-height: 1;
    border: 2px solid var(--white); /* Outline for badge */
}

.navbar-profile-btn {
    display: flex; align-items: center; gap: var(--spacing-2);
    padding: var(--spacing-1) var(--spacing-1_5); border-radius: var(--radius-md);
    background: none; border: none; cursor: pointer; transition: var(--transition-fast);
}
.navbar-profile-btn:hover { background-color: var(--gray-100); }

.profile-avatar {
    width: 38px; height: 38px; border-radius: 50%;
    background-color: var(--primary-100); display: flex; align-items: center; justify-content: center;
    color: var(--primary-700); font-weight: 600; overflow: hidden;
}
.profile-avatar img { width: 100%; height: 100%; object-fit: cover; }
.profile-info { display: flex; flex-direction: column; text-align: left; }
.profile-name { font-size: var(--text-sm); font-weight: 600; color: var(--gray-800); }
.dropdown-arrow { color: var(--gray-400); font-size: var(--text-xs); margin-left: var(--spacing-1); }


/* ===== DROPDOWN CONTENT (General Popups for Navbar) ===== */
.dropdown { position: relative; }
.dropdown-content {
    position: absolute; top: calc(100% + var(--spacing-2)); right: 0;
    width: 320px; background-color: var(--white);
    border-radius: var(--radius-lg); box-shadow: var(--shadow-lg);
    border: 1px solid var(--gray-200);
    opacity: 0; visibility: hidden; transform: translateY(10px);
    transition: opacity var(--transition-fast), visibility var(--transition-fast), transform var(--transition-fast);
    z-index: var(--z-50);
}
.dropdown.show .dropdown-content, .dropdown-content.show {
    opacity: 1; visibility: visible; transform: translateY(0);
}
.dropdown-header {
    padding: var(--spacing-3) var(--spacing-4); border-bottom: 1px solid var(--gray-200);
    display: flex; justify-content: space-between; align-items: center;
}
.dropdown-header h3 { font-size: var(--text-sm); font-weight: 600; color: var(--gray-800); margin: 0; }
.mark-all-read { font-size: var(--text-xs); color: var(--primary-600); }
.mark-all-read:hover { text-decoration: underline; }

.dropdown-body { max-height: 350px; overflow-y: auto; }
.dropdown-body::-webkit-scrollbar { width: 5px; }
.dropdown-body::-webkit-scrollbar-thumb { background: var(--gray-300); border-radius: var(--radius-full); }

.dropdown-footer {
    padding: var(--spacing-2_5) var(--spacing-4); border-top: 1px solid var(--gray-200); text-align: center;
}
.dropdown-footer a { font-size: var(--text-xs); color: var(--primary-600); font-weight: 500; }
.dropdown-footer a:hover { text-decoration: underline; }

.dropdown-divider { height: 1px; background-color: var(--gray-200); margin: var(--spacing-2) 0; }

.dropdown-content .dropdown-item { /* For navbar dropdowns */
    display: flex; align-items: center; gap: var(--spacing-3);
    padding: var(--spacing-2_5) var(--spacing-4);
    color: var(--gray-700); text-decoration: none; transition: background-color var(--transition-fast);
    white-space: normal; /* Allow text to wrap */
}
.dropdown-content .dropdown-item:hover { background-color: var(--gray-50); }
.dropdown-content .dropdown-item i, .dropdown-content .dropdown-item .bi {
    width: 18px; margin-right: var(--spacing-2); color: var(--gray-400);
    text-align: center; font-size: 1rem; flex-shrink: 0;
}
.dropdown-profile { width: 240px; } /* Specific for profile dropdown */


/* ===== PAGE HEADER ===== */
.header {
    display: flex; justify-content: space-between; align-items: center;
    margin-bottom: var(--spacing-6); flex-wrap: wrap; gap: var(--spacing-4);
}
.header .header-left { display: flex; align-items: center; gap: var(--spacing-4); }
.header .header-right { display: flex; align-items: center; gap: var(--spacing-3); }
.page-title { font-size: var(--text-2xl); font-weight: 700; color: var(--gray-900); margin: 0; }

/* ===== STATS CARDS ===== */
.stats-card-container {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: var(--spacing-5); margin-bottom: var(--spacing-6);
}
.stats-card {
    background-color: var(--white); border-radius: var(--radius-lg);
    box-shadow: var(--shadow); padding: var(--spacing-5);
    display: flex; flex-direction: column; position: relative;
}
/* Color accents for stats cards */
.stats-card.primary-card   { border-left: 5px solid var(--primary-500); }
.stats-card.success-card   { border-left: 5px solid var(--success); }
.stats-card.warning-card   { border-left: 5px solid var(--warning); }
.stats-card.info-card      { border-left: 5px solid var(--info); }
.stats-card.danger-card    { border-left: 5px solid var(--danger); }

.stats-card-content { display: flex; align-items: center; justify-content: space-between; flex-grow: 1; }
.stats-card-text { flex: 1; }
.stats-card-label {
    font-size: var(--text-xs); font-weight: 600; text-transform: uppercase;
    margin-bottom: var(--spacing-1); letter-spacing: 0.05em; color: var(--gray-500);
}
.stats-card-value { font-size: var(--text-2xl); font-weight: 700; color: var(--gray-800); line-height: 1.2; }
.stats-card-icon {
    display: flex; align-items: center; justify-content: center;
    width: 48px; height: 48px; border-radius: 50%;
    margin-left: var(--spacing-4); color: var(--white); font-size: 1.5rem;
}
/* Icon background colors */
.primary-card .stats-card-icon { background-color: var(--primary-500); }
.success-card .stats-card-icon { background-color: var(--success); }
.warning-card .stats-card-icon { background-color: var(--warning); }
.info-card .stats-card-icon    { background-color: var(--info); }
.danger-card .stats-card-icon   { background-color: var(--danger); }
/* Label colors matching icon accents */
.primary-card .stats-card-label { color: var(--primary-600); }
.success-card .stats-card-label { color: var(--success-fg); }
.warning-card .stats-card-label { color: var(--warning-fg); }
.info-card .stats-card-label    { color: var(--info-fg); }
.danger-card .stats-card-label   { color: var(--danger-fg); }

.stats-card-footer { margin-top: var(--spacing-3); font-size: var(--text-xs); color: var(--gray-500); }


/* ===== CARDS (General Purpose) ===== */
.card {
    background-color: var(--white); border-radius: var(--radius-lg);
    box-shadow: var(--shadow); margin-bottom: var(--spacing-6);
    overflow: hidden; border: 1px solid var(--gray-200);
    display: flex; flex-direction: column;
}
.card-header {
    padding: var(--spacing-4) var(--spacing-5); border-bottom: 1px solid var(--gray-200);
    display: flex; justify-content: space-between; align-items: center; background-color: var(--white);
}
.card-header:first-child { border-radius: var(--radius-lg) var(--radius-lg) 0 0; }
.card-title { font-size: var(--text-lg); font-weight: 600; color: var(--gray-800); margin: 0; }
.card-subtitle { font-size: var(--text-sm); color: var(--gray-500); margin-top: var(--spacing-0_5); margin-bottom: 0; }
.card-body { padding: var(--spacing-5); flex: 1 1 auto; }
.card-body.p-0 { padding: 0 !important; } /* Utility for no padding */
.card-text { margin-bottom: var(--spacing-4); }
.card-text:last-child { margin-bottom: 0; }
.card-footer {
    padding: var(--spacing-4) var(--spacing-5); border-top: 1px solid var(--gray-200);
    background-color: var(--gray-50); /* Slight distinction for footer */
}
.card-footer:last-child { border-radius: 0 0 var(--radius-lg) var(--radius-lg); }
.card-actions { display: flex; align-items: center; gap: var(--spacing-2); }

/* Colored Cards using new system */
.card-colored { color: var(--white); }
.card-colored .card-title, .card-colored .card-subtitle, .card-colored .card-text, .card-colored a { color: var(--white); }
.card-colored a:hover { color: rgba(255,255,255,0.8); }

.card-primary { background-color: var(--primary-600); border-color: var(--primary-700); }
.card-primary .card-header, .card-primary .card-footer { background-color: var(--primary-700); border-color: var(--primary-800); }

.card-success { background-color: var(--success); border-color: var(--success-fg); }
.card-success .card-header, .card-success .card-footer { background-color: var(--success-fg); }

.card-danger { background-color: var(--danger); border-color: var(--danger-fg); }
.card-danger .card-header, .card-danger .card-footer { background-color: var(--danger-fg); }

.card-warning { background-color: var(--warning); color: var(--gray-900); border-color: var(--warning-fg); }
.card-warning .card-title, .card-warning .card-subtitle, .card-warning .card-text { color: var(--gray-900); }
.card-warning a { color: var(--warning-fg); } .card-warning a:hover { color: var(--gray-900); }
.card-warning .card-header, .card-warning .card-footer { background-color: var(--warning-bg); border-color: var(--warning-fg); }

.card-info { background-color: var(--info); border-color: var(--info-fg); }
.card-info .card-header, .card-info .card-footer { background-color: var(--info-fg); }

.card-primary, .card-success, .card-danger, .card-info { /* Apply common colored card styles */
    color: var(--white);
}
.card-primary .card-title, .card-primary .card-text, .card-primary a,
.card-success .card-title, .card-success .card-text, .card-success a,
.card-danger .card-title, .card-danger .card-text, .card-danger a,
.card-info .card-title, .card-info .card-text, .card-info a {
    color: var(--white);
}

/* General Search Box (if needed outside navbar) */
.search-box { position: relative; width: 100%; max-width: 300px; }
.search-box .search-icon {
    position: absolute; left: var(--spacing-3); top: 50%;
    transform: translateY(-50%); color: var(--gray-400); pointer-events: none;
}
.search-box .search-input {
    width: 100%; padding: var(--spacing-2_5) var(--spacing-3) var(--spacing-2_5) var(--spacing-10);
    border: 1px solid var(--gray-300); border-radius: var(--radius-md);
    font-size: var(--text-sm); transition: var(--transition-fast);
}
.search-box .search-input:focus {
    outline: none; border-color: var(--primary-500);
    box-shadow: 0 0 0 3px var(--primary-100);
}


/* ===== BUTTONS ===== */
.btn {
    display: inline-flex; align-items: center; justify-content: center;
    padding: var(--spacing-2_5) var(--spacing-5); border-radius: var(--radius-md);
    font-weight: 500; font-size: var(--text-sm);
    transition: var(--transition-fast); border: 1px solid transparent;
    cursor: pointer; gap: var(--spacing-2); line-height: 1.5;
    text-align: center; white-space: nowrap; vertical-align: middle;
}
.btn:focus-visible { outline: 2px solid var(--primary-400); outline-offset: 2px; box-shadow: none; }
.btn:disabled, .btn.disabled { opacity: 0.65; cursor: not-allowed; }

.btn-primary { background-color: var(--primary-600); color: var(--white); border-color: var(--primary-600); }
.btn-primary:hover { background-color: var(--primary-700); border-color: var(--primary-700); }

.btn-secondary { background-color: var(--gray-600); color: var(--white); border-color: var(--gray-600); }
.btn-secondary:hover { background-color: var(--gray-700); border-color: var(--gray-700); }

.btn-outline-primary { color: var(--primary-600); border-color: var(--primary-600); background-color: transparent; }
.btn-outline-primary:hover { background-color: var(--primary-50); color: var(--primary-700); }

.btn-outline-secondary { color: var(--gray-600); border-color: var(--gray-300); background-color: transparent; }
.btn-outline-secondary:hover { background-color: var(--gray-100); color: var(--gray-700); }

.btn-success { background-color: var(--success); color: var(--white); border-color: var(--success); }
.btn-success:hover { background-color: var(--success-fg); border-color: var(--success-fg); }

.btn-danger { background-color: var(--danger); color: var(--white); border-color: var(--danger); }
.btn-danger:hover { background-color: var(--danger-fg); border-color: var(--danger-fg); }

.btn-warning { background-color: var(--warning); color: var(--gray-900); border-color: var(--warning); }
.btn-warning:hover { background-color: var(--warning-fg); border-color: var(--warning-fg); color: var(--white); }

.btn-info { background-color: var(--info); color: var(--white); border-color: var(--info); }
.btn-info:hover { background-color: var(--info-fg); border-color: var(--info-fg); }

.btn-light { background-color: var(--gray-100); color: var(--gray-800); border-color: var(--gray-200); }
.btn-light:hover { background-color: var(--gray-200); }

.btn-dark { background-color: var(--gray-800); color: var(--white); border-color: var(--gray-800); }
.btn-dark:hover { background-color: var(--gray-900); border-color: var(--gray-900); }

.btn-link {
    font-weight: 500; color: var(--primary-600); text-decoration: none;
    background-color: transparent; border-color: transparent;
    padding: var(--spacing-2_5) 0; /* Link buttons usually have less padding */
}
.btn-link:hover { color: var(--primary-700); text-decoration: underline; }

.btn-sm { padding: var(--spacing-1_5) var(--spacing-3); font-size: var(--text-xs); gap: var(--spacing-1_5); }
.btn-lg { padding: var(--spacing-3) var(--spacing-6); font-size: var(--text-base); gap: var(--spacing-2_5); }
.btn-icon { padding: var(--spacing-2_5); gap: 0; } /* For icon-only buttons */
.btn-icon.btn-sm { padding: var(--spacing-1_5); }
.btn-icon.btn-lg { padding: var(--spacing-3); }

.btn-group { display: inline-flex; vertical-align: middle; }
.btn-group > .btn { position: relative; flex: 1 1 auto; }
.btn-group > .btn:not(:first-child) { margin-left: -1px; border-top-left-radius: 0; border-bottom-left-radius: 0; }
.btn-group > .btn:not(:last-child) { border-top-right-radius: 0; border-bottom-right-radius: 0; }
.btn-group > .btn:hover, .btn-group > .btn:focus-visible, .btn-group > .btn:active { z-index: 1; }


/* ===== TABLES ===== */
.table-responsive {
    overflow-x: auto; -webkit-overflow-scrolling: touch;
    margin-bottom: var(--spacing-4); border: 1px solid var(--gray-200);
    border-radius: var(--radius-lg); /* Rounded wrapper for table */
}
.table {
    width: 100%; border-collapse: collapse; white-space: nowrap;
    margin-bottom: 0; font-size: var(--text-sm);
}
.table th, .table td {
    padding: var(--spacing-3) var(--spacing-4); vertical-align: middle;
    border-bottom: 1px solid var(--gray-200); text-align: left;
}
.table th {
    font-weight: 600; color: var(--gray-600); background-color: var(--gray-50);
    border-bottom-width: 1px; /* Match td for consistency */
    border-top: 1px solid var(--gray-200); /* Add top border to header cells */
}
/* Apply radius to first/last header cells if table is inside .table-responsive */
.table-responsive > .table > thead > tr > th:first-child { border-top-left-radius: var(--radius-lg); }
.table-responsive > .table > thead > tr > th:last-child { border-top-right-radius: var(--radius-lg); }

.table tbody tr:hover { background-color: var(--gray-100); }
.table tbody tr:last-child td { border-bottom: none; }
/* If table directly has radius, not inside responsive wrapper (less common) */
/* .table thead th:first-child { border-top-left-radius: var(--radius-lg); } */
/* .table thead th:last-child { border-top-right-radius: var(--radius-lg); } */
/* .table tbody tr:last-child td:first-child { border-bottom-left-radius: var(--radius-lg); } */
/* .table tbody tr:last-child td:last-child { border-bottom-right-radius: var(--radius-lg); } */

.table-striped tbody tr:nth-of-type(odd) { background-color: var(--gray-50); }
.table-striped tbody tr:nth-of-type(odd):hover { background-color: var(--gray-100); }
.table-bordered th, .table-bordered td { border: 1px solid var(--gray-200); }
.table-bordered thead th { border-bottom-width: 2px; } /* Thicker for bordered header */
.table-sm th, .table-sm td { padding: var(--spacing-2) var(--spacing-3); }


/* ===== BADGES ===== */
.badge {
    display: inline-flex; align-items: center; justify-content: center;
    padding: 0.25em 0.6em; font-size: var(--text-xs); font-weight: 600;
    line-height: 1; border-radius: var(--radius); /* Default to small radius */
    white-space: nowrap; vertical-align: baseline;
}
.badge.rounded-pill { border-radius: var(--radius-full); padding: 0.35em 0.75em; }

.badge-primary   { background-color: var(--primary-100); color: var(--primary-700); }
.badge-secondary { background-color: var(--gray-100); color: var(--gray-600); }
.badge-success   { background-color: var(--success-bg); color: var(--success-fg); }
.badge-danger    { background-color: var(--danger-bg); color: var(--danger-fg); }
.badge-warning   { background-color: var(--warning-bg); color: var(--warning-fg); }
.badge-info      { background-color: var(--info-bg); color: var(--info-fg); }
.badge-light     { background-color: var(--gray-200); color: var(--gray-700); }
.badge-dark      { background-color: var(--gray-800); color: var(--white); }

.status-badge {
    /* composes: badge rounded-pill; */ /* For CSS Modules, otherwise manually copy */
    display: inline-flex; align-items: center; justify-content: center;
    font-size: var(--text-xs); font-weight: 600; line-height: 1;
    white-space: nowrap; vertical-align: baseline;
    border-radius: var(--radius-full); padding: 0.35em 0.75em;
    text-transform: capitalize;
}
.status-badge.active    { background-color: var(--success-bg); color: var(--success-fg); }
.status-badge.inactive,
.status-badge.cancelled { background-color: var(--danger-bg); color: var(--danger-fg); }
.status-badge.pending   { background-color: var(--warning-bg); color: var(--warning-fg); }
.status-badge.completed { background-color: var(--gray-100); color: var(--gray-600); }
.status-badge.paused    { background-color: var(--info-bg); color: var(--info-fg); }


/* ===== FORMS ===== */
.form-group, .mb-3 { margin-bottom: var(--spacing-5); }
.form-label, label {
    display: block; font-weight: 500; margin-bottom: var(--spacing-1_5);
    color: var(--gray-700); font-size: var(--text-sm);
}
.form-control, .form-select {
    display: block; width: 100%;
    padding: var(--spacing-2_5) var(--spacing-3); font-size: var(--text-sm);
    font-weight: 400; line-height: 1.5; color: var(--gray-800);
    background-color: var(--white); background-clip: padding-box;
    border: 1px solid var(--gray-300); border-radius: var(--radius-md);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    -webkit-appearance: none; -moz-appearance: none; appearance: none;
}
.form-control:focus, .form-select:focus {
    outline: 0; border-color: var(--primary-400);
    box-shadow: 0 0 0 3px var(--primary-100); /* Focus ring */
}
.form-control:disabled, .form-control[readonly],
.form-select:disabled, .form-select[readonly] {
    background-color: var(--gray-100); opacity: 0.7; cursor: not-allowed;
}
.form-control.is-invalid, .form-select.is-invalid { border-color: var(--danger); }
.form-control.is-invalid:focus, .form-select.is-invalid:focus {
    border-color: var(--danger); box-shadow: 0 0 0 3px var(--danger-bg);
}
.form-control.is-valid, .form-select.is-valid { border-color: var(--success); }
.form-control.is-valid:focus, .form-select.is-valid:focus {
    border-color: var(--success); box-shadow: 0 0 0 3px var(--success-bg);
}

.invalid-feedback, .valid-feedback {
    display: none; width: 100%; margin-top: var(--spacing-1); font-size: var(--text-xs);
}
.is-invalid ~ .invalid-feedback, .form-control.is-invalid + .invalid-feedback, .form-select.is-invalid + .invalid-feedback,
.is-valid ~ .valid-feedback, .form-control.is-valid + .valid-feedback, .form-select.is-valid + .valid-feedback {
    display: block;
}
.invalid-feedback { color: var(--danger-fg); }
.valid-feedback { color: var(--success-fg); }
.d-block.invalid-feedback, .d-block.valid-feedback { display: block !important; } /* Force display */

.form-text, small.form-text {
    display: block; margin-top: var(--spacing-1); font-size: var(--text-xs); color: var(--gray-500);
}

.input-group { position: relative; display: flex; flex-wrap: wrap; align-items: stretch; width: 100%; }
.input-group > .form-control, .input-group > .form-select {
    position: relative; flex: 1 1 auto; width: 1%; min-width: 0;
}
.input-group > .form-control:focus, .input-group > .form-select:focus { z-index: 3; }
.input-group-text {
    display: flex; align-items: center; padding: var(--spacing-2_5) var(--spacing-3);
    font-size: var(--text-sm); font-weight: 400; line-height: 1.5; color: var(--gray-500);
    text-align: center; white-space: nowrap; background-color: var(--gray-50);
    border: 1px solid var(--gray-300); border-radius: var(--radius-md);
}
.input-group > :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu) { border-top-right-radius: 0; border-bottom-right-radius: 0; }
.input-group > :not(:first-child):not(.dropdown-toggle):not(.dropdown-menu) { border-top-left-radius: 0; border-bottom-left-radius: 0; margin-left: -1px; }

.form-select {
    padding-right: var(--spacing-10); /* More space for arrow */
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e");
    background-position: right var(--spacing-3) center;
    background-repeat: no-repeat; background-size: 1em 1em;
}
.form-select[multiple], .form-select[size]:not([size="1"]) { padding-right: var(--spacing-3); background-image: none; }
textarea.form-control { resize: vertical; min-height: 120px; }

/* Form Check and Custom Controls */
/* Using the .custom-control structure from your original CSS for checkbox/radio/switch */
.form-check {
    display: block; position: relative;
    padding-left: var(--spacing-7); /* Default if not using .custom-control */
    margin-bottom: var(--spacing-3);
}
.form-check-input { /* Native input, styled or hidden by custom controls */
    position: absolute; margin-left: calc(var(--spacing-7) * -1);
    width: 1.25em; height: 1.25em; margin-top: 0.125em;
}
.form-check-label { margin-bottom: 0; font-weight: 400; cursor: pointer; }

.custom-control { position: relative; display: block; min-height: 1.5rem; padding-left: 1.875rem; }
.custom-control-input { position: absolute; left: 0; z-index: -1; width: 1.25rem; height: 1.25rem; opacity: 0; }
.custom-control-label { position: relative; margin-bottom: 0; vertical-align: top; cursor: pointer; font-weight: normal; }
.custom-control-label::before {
    position: absolute; top: 0.075rem; left: -1.875rem;
    display: block; width: 1.25rem; height: 1.25rem; pointer-events: none; content: "";
    background-color: var(--white); border: 1px solid var(--gray-400);
}
.custom-control-label::after {
    position: absolute; top: 0.075rem; left: -1.875rem; display: block;
    width: 1.25rem; height: 1.25rem; content: ""; background: no-repeat 50% / 60% 60%;
}
.custom-checkbox .custom-control-label::before { border-radius: var(--radius); }
.custom-checkbox .custom-control-input:checked ~ .custom-control-label::before { border-color: var(--primary-600); background-color: var(--primary-600); }
.custom-checkbox .custom-control-input:checked ~ .custom-control-label::after { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='2.5' d='M4 8l3 3 5-5'/%3e%3c/svg%3e"); }
.custom-radio .custom-control-label::before { border-radius: 50%; }
.custom-radio .custom-control-input:checked ~ .custom-control-label::before { border-color: var(--primary-600); background-color: var(--primary-600); }
.custom-radio .custom-control-input:checked ~ .custom-control-label::after { background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e"); }
.custom-switch { padding-left: 3rem; }
.custom-switch .custom-control-label::before {
    left: -3rem; width: 2.5rem; height: 1.25rem; border-radius: 1.25rem;
    background-color: var(--gray-200); border-color: var(--gray-300); transition: var(--transition-fast);
}
.custom-switch .custom-control-label::after {
    top: calc(0.075rem + 2px); left: calc(-3rem + 2px);
    width: calc(1.25rem - 4px); height: calc(1.25rem - 4px);
    background-color: var(--white); border-radius: 50%; box-shadow: var(--shadow-sm);
    transition: transform .15s ease-in-out, background-color .15s ease-in-out;
}
.custom-switch .custom-control-input:checked ~ .custom-control-label::before { background-color: var(--primary-500); border-color: var(--primary-500); }
.custom-switch .custom-control-input:checked ~ .custom-control-label::after { transform: translateX(1.25rem); }
.custom-control-input:disabled ~ .custom-control-label { color: var(--gray-400); cursor: not-allowed; }
.custom-control-input:disabled ~ .custom-control-label::before { background-color: var(--gray-100); border-color: var(--gray-200); }
.custom-checkbox .custom-control-input:disabled:checked ~ .custom-control-label::before,
.custom-radio .custom-control-input:disabled:checked ~ .custom-control-label::before,
.custom-switch .custom-control-input:disabled:checked ~ .custom-control-label::before {
    background-color: var(--primary-200); border-color: var(--primary-200);
}

/* ===== ALERTS ===== */
.alert {
    position: relative; padding: var(--spacing-4); margin-bottom: var(--spacing-5);
    border: 1px solid transparent; border-radius: var(--radius-md);
    display: flex; align-items: flex-start;
}
.alert-icon { margin-right: var(--spacing-3); font-size: 1.375rem; line-height: 1.5; flex-shrink: 0; }
.alert-content { flex-grow: 1; }
.alert h4, .alert .alert-heading { margin-top: 0; margin-bottom: var(--spacing-2); font-weight: 600; }
.alert-success { color: var(--success-fg); background-color: var(--success-bg); border-color: var(--success); }
.alert-danger  { color: var(--danger-fg);  background-color: var(--danger-bg);  border-color: var(--danger); }
.alert-warning { color: var(--warning-fg); background-color: var(--warning-bg); border-color: var(--warning); }
.alert-info    { color: var(--info-fg);    background-color: var(--info-bg);    border-color: var(--info); }
.alert-light   { color: var(--gray-700);   background-color: var(--gray-100);   border-color: var(--gray-200); }
.alert-dark    { color: var(--white);      background-color: var(--gray-800);   border-color: var(--gray-900); }
.alert-dismissible { padding-right: var(--spacing-12); }
.alert-dismissible .close {
    position: absolute; top: 0; right: 0; z-index: 2;
    padding: var(--spacing-4) var(--spacing-5); color: inherit;
    background: none; border: 0; font-size: 1.5rem; font-weight: 700;
    line-height: 1; opacity: 0.5; cursor: pointer;
}
.alert-dismissible .close:hover { opacity: 0.75; }


/* ===== MODALS ===== */
.modal {
    display: none; position: fixed; inset: 0; z-index: var(--z-50);
    overflow-x: hidden; overflow-y: auto; outline: 0;
    background-color: rgba(17, 24, 39, 0.6); /* gray-900 with alpha */
    backdrop-filter: blur(4px);
}
.modal.show { display: flex; align-items: center; justify-content: center; }
.modal-dialog {
    position: relative; width: auto; margin: var(--spacing-4);
    max-width: 600px; pointer-events: none;
    display: flex; align-items: center;
    min-height: calc(100% - (var(--spacing-4) * 2));
}
.modal.show .modal-dialog { pointer-events: auto; }
.modal-sm { max-width: 380px; }
.modal-lg { max-width: 800px; }
.modal-xl { max-width: 1140px; }
.modal-fullscreen .modal-dialog { max-width: none; width: 100%; height: 100%; margin: 0; }
.modal-fullscreen .modal-content { height: 100%; border-radius: 0; }

.modal-content {
    position: relative; display: flex; flex-direction: column; width: 100%;
    pointer-events: auto; background-color: var(--white);
    background-clip: padding-box; border: 0;
    border-radius: var(--radius-xl); outline: 0; box-shadow: var(--shadow-2xl);
}
.modal-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: var(--spacing-4) var(--spacing-5); border-bottom: 1px solid var(--gray-200);
    border-top-left-radius: var(--radius-xl); border-top-right-radius: var(--radius-xl);
}
.modal-header .close {
    padding: var(--spacing-2); margin: calc(var(--spacing-2)*-1); background-color: transparent; border: 0;
    font-size: 1.75rem; font-weight: 700; line-height: 1; color: var(--gray-500);
    opacity: 1; cursor: pointer; text-shadow: none;
}
.modal-header .close:hover { color: var(--gray-700); }
.modal-title { margin-bottom: 0; line-height: 1.5; font-size: var(--text-lg); font-weight: 600; }
.modal-body { position: relative; flex: 1 1 auto; padding: var(--spacing-5) var(--spacing-6); }
.modal-footer {
    display: flex; flex-wrap: wrap; align-items: center; justify-content: flex-end;
    padding: var(--spacing-4) var(--spacing-5); border-top: 1px solid var(--gray-200);
    border-bottom-right-radius: var(--radius-xl); border-bottom-left-radius: var(--radius-xl);
    gap: var(--spacing-3); background-color: var(--gray-50);
}


/* ===== PAGINATION ===== */
.pagination {
    display: flex; padding-left: 0; list-style: none;
    justify-content: center; align-items: center;
    margin-top: var(--spacing-6); margin-bottom: 0; flex-wrap: wrap;
}
.page-item { margin: 0 var(--spacing-0_5); }
.page-item.active .page-link {
    z-index: 3; color: var(--white);
    background-color: var(--primary-600); border-color: var(--primary-600);
}
.page-item.disabled .page-link {
    color: var(--gray-400); pointer-events: none;
    background-color: var(--white); border-color: var(--gray-200);
}
.page-link {
    position: relative; display: flex; align-items: center; justify-content: center;
    padding: var(--spacing-2) var(--spacing-3); color: var(--primary-600);
    text-decoration: none; background-color: var(--white);
    border: 1px solid var(--gray-300); min-width: 2.5rem; min-height: 2.5rem;
    transition: var(--transition-fast); border-radius: var(--radius-md);
    font-size: var(--text-sm);
}
/* Collapsed pagination items */
.page-item:not(:first-child) .page-link { margin-left: -1px; }
.page-item:first-child .page-link { border-top-left-radius: var(--radius-md); border-bottom-left-radius: var(--radius-md); }
.page-item:last-child .page-link { border-top-right-radius: var(--radius-md); border-bottom-right-radius: var(--radius-md); }
.page-link:hover {
    z-index: 2; color: var(--primary-700);
    background-color: var(--gray-50); border-color: var(--gray-300);
}
.page-link:focus-visible {
    z-index: 3; outline: 0; box-shadow: 0 0 0 3px var(--primary-100);
}


/* ===== NOTIFICATIONS & MESSAGES (in Dropdowns) ===== */
/* These were from old CSS, ensure they use new vars or are covered by general .dropdown-item */
.notification-item, .message-item { /* General structure for list items in dropdowns */
    display: flex; gap: var(--spacing-3);
    padding: var(--spacing-3) var(--spacing-4);
    border-bottom: 1px solid var(--gray-200);
    text-decoration: none;
    transition: background-color var(--transition-fast);
    position: relative;
}
.notification-item:last-child, .message-item:last-child { border-bottom: none; }
.notification-item:hover, .message-item:hover { background-color: var(--gray-50); }

.notification-icon { /* Icon for notifications */
    width: 40px; height: 40px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    color: var(--white); flex-shrink: 0; font-size: 1.25rem;
}
.notification-icon.bg-primary { background-color: var(--primary-500); } /* Use main primary */
.notification-icon.bg-success { background-color: var(--success); }
.notification-icon.bg-warning { background-color: var(--warning); }
.notification-icon.bg-danger  { background-color: var(--danger); }
.notification-icon.bg-info    { background-color: var(--info); }

.notification-content, .message-content { flex: 1; min-width: 0; }
.notification-text { margin: 0; font-size: var(--text-sm); color: var(--gray-800); line-height: 1.4; }
.notification-time, .message-time { margin: 0; font-size: var(--text-xs); color: var(--gray-500); margin-top: var(--spacing-1); }

.notification-item.unread::before, .message-item.unread::before {
    content: ''; display: block; width: 8px; height: 8px; border-radius: 50%;
    background-color: var(--primary-500); position: absolute;
    left: var(--spacing-2); top: calc(50% - 4px);
}
.notification-item.unread, .message-item.unread { padding-left: var(--spacing-6); } /* Make space for dot */

.message-avatar {
    width: 40px; height: 40px; border-radius: 50%;
    overflow: hidden; flex-shrink: 0; background-color: var(--gray-100);
}
.message-avatar img { width: 100%; height: 100%; object-fit: cover; }
.message-sender { margin: 0; font-size: var(--text-sm); font-weight: 600; color: var(--gray-800); }
.message-text {
    margin: 0; font-size: 0.8125rem; color: var(--gray-500);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin-top: var(--spacing-0_5);
}


/* ===== LIST GROUPS ===== */
/* These were from old CSS, ensure they use new vars or are covered */
.list-group {
    display: flex; flex-direction: column; padding-left: 0;
    margin-bottom: 0; border-radius: var(--radius-lg); /* Use larger radius */
}
.list-group-item {
    position: relative; display: block; padding: var(--spacing-3) var(--spacing-4);
    color: var(--gray-800); text-decoration: none; background-color: var(--white);
    border: 1px solid var(--gray-200);
}
.list-group-item:first-child { border-top-left-radius: inherit; border-top-right-radius: inherit; }
.list-group-item:last-child { border-bottom-right-radius: inherit; border-bottom-left-radius: inherit; }
.list-group-item + .list-group-item { border-top-width: 0; }

.list-group-flush { border-radius: 0; }
.list-group-flush .list-group-item { border-width: 0 0 1px; }
.list-group-flush .list-group-item:last-child { border-bottom-width: 0; }

.card > .list-group {
    margin-left: calc(var(--spacing-5) * -1); /* Match card-body padding from new CSS */
    margin-right: calc(var(--spacing-5) * -1);
    border-left: 0; border-right: 0;
}
.card > .list-group:first-child {
    border-top-left-radius: var(--radius-lg); /* Match card radius */
    border-top-right-radius: var(--radius-lg);
    border-top:0;
}
.card > .list-group:last-child {
    border-bottom-left-radius: var(--radius-lg);
    border-bottom-right-radius: var(--radius-lg);
    border-bottom:0;
}
.card > .list-group .list-group-item {
    padding-left: var(--spacing-5); /* Match card-body padding */
    padding-right: var(--spacing-5);
}
.card-header + .list-group .list-group-item:first-child { border-top-width: 0; }


/* ===== UTILITIES (From new CSS, ensure they are complete) ===== */
.block { display: block !important; } .inline-block { display: inline-block !important; }
.inline { display: inline !important; } .flex { display: flex !important; }
.inline-flex { display: inline-flex !important; } .grid { display: grid !important; }
.hidden { display: none !important; }

.w-auto { width: auto !important; } .w-full { width: 100% !important; } .w-screen { width: 100vw !important; }
.h-auto { height: auto !important; } .h-full { height: 100% !important; } .h-screen { height: 100vh !important; }
.w-1\/2 { width: 50% !important; } .w-1\/3 { width: 33.333333% !important; } .w-2\/3 { width: 66.666667% !important; }
.w-1\/4 { width: 25% !important; } .w-3\/4 { width: 75% !important; }
.max-w-full { max-width: 100% !important; } .min-h-screen { min-height: 100vh !important; }

.text-left   { text-align: left !important; } .text-center { text-align: center !important; }
.text-right  { text-align: right !important; } .text-justify { text-align: justify !important; }

.text-primary   { color: var(--primary-600) !important; } .text-secondary { color: var(--gray-600) !important; }
.text-success   { color: var(--success-fg) !important; } .text-danger    { color: var(--danger-fg) !important; }
.text-warning   { color: var(--warning-fg) !important; } .text-info      { color: var(--info-fg) !important; }
.text-light     { color: var(--gray-100) !important; } .text-dark      { color: var(--gray-800) !important; }
.text-white     { color: var(--white) !important; } .text-muted     { color: var(--gray-500) !important; }
.text-body      { color: var(--gray-800) !important; } .text-transparent { color: transparent !important; }

.bg-primary   { background-color: var(--primary-600) !important; } .bg-secondary { background-color: var(--gray-600) !important; }
.bg-success   { background-color: var(--success) !important; } .bg-danger    { background-color: var(--danger) !important; }
.bg-warning   { background-color: var(--warning) !important; } .bg-info      { background-color: var(--info) !important; }
.bg-light     { background-color: var(--gray-100) !important; } .bg-dark      { background-color: var(--gray-800) !important; }
.bg-white     { background-color: var(--white) !important; } .bg-transparent { background-color: transparent !important; }
.bg-primary, .bg-secondary, .bg-success, .bg-danger, .bg-info, .bg-dark { color: var(--white) !important; }
.bg-warning, .bg-light, .bg-white { color: var(--gray-800) !important; }

.border { border-width: 1px !important; border-style: solid !important; border-color: var(--gray-200) !important; }
.border-0 { border-width: 0 !important; }
/* Add specific border side utilities if needed, e.g., .border-t, .border-b */

.rounded-none { border-radius: var(--radius-none) !important; } .rounded-sm   { border-radius: var(--radius-sm) !important; }
.rounded      { border-radius: var(--radius) !important; } .rounded-md   { border-radius: var(--radius-md) !important; }
.rounded-lg   { border-radius: var(--radius-lg) !important; } .rounded-xl   { border-radius: var(--radius-xl) !important; }
.rounded-2xl  { border-radius: var(--radius-2xl) !important; } .rounded-3xl  { border-radius: var(--radius-3xl) !important; }
.rounded-full { border-radius: var(--radius-full) !important; }

.shadow-sm   { box-shadow: var(--shadow-sm) !important; } .shadow      { box-shadow: var(--shadow) !important; }
.shadow-md   { box-shadow: var(--shadow-md) !important; } .shadow-lg   { box-shadow: var(--shadow-lg) !important; }
.shadow-xl   { box-shadow: var(--shadow-xl) !important; } .shadow-2xl  { box-shadow: var(--shadow-2xl) !important; }
.shadow-inner{ box-shadow: var(--shadow-inner) !important; } .shadow-none { box-shadow: none !important; }

/* Spacing Utilities - ensure all scales (0-16) are generated for m, p, mt, mb, ml, mr, mx, my, pt, pb, pl, pr, px, py */
/* Example for scale 4 */
.m-4 { margin: var(--spacing-4) !important; } .mt-4 { margin-top: var(--spacing-4) !important; } .mb-4 { margin-bottom: var(--spacing-4) !important; }
.ml-4 { margin-left: var(--spacing-4) !important; } .mr-4 { margin-right: var(--spacing-4) !important; }
.mx-4 { margin-left: var(--spacing-4) !important; margin-right: var(--spacing-4) !important; }
.my-4 { margin-top: var(--spacing-4) !important; margin-bottom: var(--spacing-4) !important; }
.p-4 { padding: var(--spacing-4) !important; } .pt-4 { padding-top: var(--spacing-4) !important; } .pb-4 { padding-bottom: var(--spacing-4) !important; }
.pl-4 { padding-left: var(--spacing-4) !important; } .pr-4 { padding-right: var(--spacing-4) !important; }
.px-4 { padding-left: var(--spacing-4) !important; padding-right: var(--spacing-4) !important; }
.py-4 { padding-top: var(--spacing-4) !important; padding-bottom: var(--spacing-4) !important; }
/* ... (Repeat for all spacing scales 0-16 for comprehensive utilities) ... */
/* Auto margins */
.m-auto { margin: auto !important; } .mx-auto { margin-left: auto !important; margin-right: auto !important; }
.my-auto { margin-top: auto !important; margin-bottom: auto !important; }


/* ===== RESPONSIVE STYLING ===== */
@media (max-width: 1200px) { /* XL screens and down */
    /* Adjustments for larger screens if needed, usually covered by defaults */
}

@media (max-width: 992px) { /* LG screens and down - Sidebar becomes off-canvas */
    .content-container { margin-left: 0; width: 100%; }
    .sidebar {
        transform: translateX(calc(var(--sidebar-width) * -1));
        z-index: var(--z-50); /* Above backdrop */
        box-shadow: var(--shadow-xl); /* More prominent shadow when off-canvas */
    }
    .sidebar.show { transform: translateX(0); }
    .mobile-toggle-btn { display: flex; }
    .navbar-breadcrumb { display: none; }
    .navbar-search { display: none; } /* Hide search on smaller tablets */
}

@media (max-width: 768px) { /* MD screens and down - Tablets */
    .main-content { padding: var(--spacing-5) var(--spacing-4); }
    .page-title { font-size: var(--text-xl); }
    .header { flex-direction: column; align-items: flex-start; }
    .header .header-right { width: 100%; justify-content: flex-start; }
    .stats-card-container { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: var(--spacing-4); }
    .modal-dialog { margin: var(--spacing-2); min-height: calc(100% - (var(--spacing-2) * 2)); }
}

@media (max-width: 576px) { /* SM screens and down - Mobile */
    .navbar .profile-info, .navbar .dropdown-arrow { display: none; }
    .navbar-right .dropdown-content { /* Navbar dropdowns on mobile */
        position: fixed; left: var(--spacing-3); right: var(--spacing-3);
        top: calc(var(--navbar-height) - 10px); /* Adjust to fit below navbar */
        width: auto;
    }
    .card-header { flex-direction: column; align-items: flex-start; gap: var(--spacing-2); }
    .card-body { padding: var(--spacing-4); }
    .table { font-size: var(--text-xs); }
    .table th, .table td { padding: var(--spacing-2) var(--spacing-2_5); }
    .main-content { padding: var(--spacing-4) var(--spacing-3); }
    .page-title { font-size: var(--text-lg); }
    .modal-body, .modal-footer, .modal-header { padding: var(--spacing-4); }
    .btn-group { flex-wrap: wrap; width: 100%; } /* Stack button groups */
    .btn-group > .btn { flex: 1 1 100% !important; margin-bottom: var(--spacing-2); }
    .btn-group > .btn:not(:last-child) { margin-bottom: var(--spacing-2); }
    .btn-group > .btn:last-child { margin-bottom: 0; }
}

/* Sidebar backdrop for mobile */
.sidebar-backdrop {
    position: fixed; inset: 0;
    background-color: rgba(17, 24, 39, 0.5); /* gray-900 with alpha */
    z-index: calc(var(--z-40) + 5); /* Ensure it's below mobile sidebar (z-50) but above other content */
    display: none; opacity: 0;
    transition: opacity var(--transition-normal);
}
body.sidebar-open { overflow: hidden; } /* Prevent body scroll when mobile sidebar is open */
body.sidebar-open .sidebar-backdrop.show { display: block; opacity: 1; }


/* ===== GRID SYSTEM (Bootstrap-like from old CSS) ===== */
/* These are fine as provided in your old CSS if you are using them. */
/* Ensure consistency with new spacing variables if you modify them. */
.container, .container-fluid {
    width: 100%;
    padding-right: var(--spacing-4); /* Example: Using new spacing var */
    padding-left: var(--spacing-4);
    margin-right: auto;
    margin-left: auto;
}
@media (min-width: 576px) { .container { max-width: 540px; } }
@media (min-width: 768px) { .container { max-width: 720px; } }
@media (min-width: 992px) { .container { max-width: 960px; } }
@media (min-width: 1200px) { .container { max-width: 1140px; } }
@media (min-width: 1400px) { .container { max-width: 1320px; } }

.row {
    display: flex;
    flex-wrap: wrap;
    margin-right: calc(var(--spacing-4) / -2); /* Example: Using new spacing var for gutter */
    margin-left: calc(var(--spacing-4) / -2);
}
.row > * {
    box-sizing: border-box; flex-shrink: 0; width: 100%; max-width: 100%;
    padding-right: calc(var(--spacing-4) / 2);
    padding-left: calc(var(--spacing-4) / 2);
}
/* ... Rest of your .col-* classes ... */
.col { flex: 1 0 0%; } .col-auto { flex: 0 0 auto; width: auto; }
.col-1 { flex: 0 0 auto; width: 8.333333%; } .col-2 { flex: 0 0 auto; width: 16.666667%; }
.col-3 { flex: 0 0 auto; width: 25%; } .col-4 { flex: 0 0 auto; width: 33.333333%; }
.col-5 { flex: 0 0 auto; width: 41.666667%; } .col-6 { flex: 0 0 auto; width: 50%; }
.col-7 { flex: 0 0 auto; width: 58.333333%; } .col-8 { flex: 0 0 auto; width: 66.666667%; }
.col-9 { flex: 0 0 auto; width: 75%; } .col-10 { flex: 0 0 auto; width: 83.333333%; }
.col-11 { flex: 0 0 auto; width: 91.666667%; } .col-12 { flex: 0 0 auto; width: 100%; }
/* Responsive columns should also be kept if used */
@media (min-width: 768px) { /* md example */
    .col-md-6 { flex: 0 0 auto; width: 50%; }
    /* ... other .col-md-* ... */
}


/* ===== MODULE SPECIFIC STYLES (From old CSS) ===== */
/* These should be reviewed. They might benefit from using the new utility classes and component styles. */
/* For now, they are included to minimize disruption. */
.settings-card { margin-bottom: var(--spacing-6); } /* Used new spacing */
.settings-tabs { display: flex; flex-wrap: wrap; border-bottom: 1px solid var(--gray-200); margin-bottom: var(--spacing-6); }
.settings-tab { padding: var(--spacing-3) var(--spacing-5); font-weight: 500; color: var(--gray-500); cursor: pointer; border-bottom: 2px solid transparent; transition: var(--transition-fast); }
.settings-tab:hover { color: var(--primary-600); }
.settings-tab.active { color: var(--primary-600); border-bottom-color: var(--primary-600); }
/* ... other module-specific styles from your "old css" should be placed here and updated to use new variables ... */
/* Example: */
.finance-metric-item {
    /* Instead of custom flex, use grid from .stats-card-container or utility classes */
    background-color: var(--white); border-radius: var(--radius-lg); /* Use new radius */
    padding: var(--spacing-5); box-shadow: var(--shadow);
    /* ... other properties ... */
}


/* Font Awesome base styling (if not using a kit that handles this) */
.fas, .far, .fab, .fal, .fad {
    display: inline-block; font-style: normal; font-variant: normal;
    text-rendering: auto; -webkit-font-smoothing: antialiased;
}





    /* In your style.css if you want custom DL styling */
.dl-horizontal dt { /* If you add this class to dl */
    float: left;
    width: 160px; /* Adjust as needed */
    overflow: hidden;
    clear: left;
    text-align: right;
    text-overflow: ellipsis;
    white-space: nowrap;
    font-weight: 600; /* From your current dt style */
    color: var(--gray-600); /* Example color */
}
.dl-horizontal dd {
    margin-left: 180px; /* Adjust based on dt width + gap */
    margin-bottom: var(--spacing-2);
}
/* Clearfix for the dl if using floats */
.dl-horizontal::after {
    content: "";
    display: table;
    clear: both;
}

/* ====== END OF MERGED STYLES ====== */
